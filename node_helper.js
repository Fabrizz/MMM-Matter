/*
  ┌────────────────────────────────────────────────────────────────┐
  │                    MMM-Matter by Fabrizz <3                    │
  │              https://github.com/Fabrizz/MMM-Matter             │
  │                        (c) Fabrizio Bap                        │
  │                                                                │
  ├─ Version 1.0.0 MIT License                                     │
  └────────────────────────────────────────────────────────────────┘
*/

// [⚠] This file is auto-generated. DO NOT EDIT.

var q=Object.create;var $=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var J=Object.getPrototypeOf,W=Object.prototype.hasOwnProperty;var z=(i,e,o,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of H(e))!W.call(i,r)&&r!==o&&$(i,r,{get:()=>e[r],enumerable:!(t=V(e,r))||t.enumerable});return i};var y=(i,e,o)=>(o=i!=null?q(J(i)):{},z(e||!i||!i.__esModule?$(o,"default",{value:i,enumerable:!0}):o,i));var G=y(require("node_helper")),m=y(require("logger")),u=y(require("express")),L=y(require("path")),U=require("events");var n={reset:"\x1B[0m",bright:"\x1B[1m",dim:"\x1B[2m",underscore:"\x1B[4m",blink:"\x1B[5m",reverse:"\x1B[7m",hidden:"\x1B[8m",FG:{black:"\x1B[30m",red:"\x1B[31m",green:"\x1B[32m",yellow:"\x1B[33m",blue:"\x1B[34m",magenta:"\x1B[35m",cyan:"\x1B[36m",white:"\x1B[37m",gray:"\x1B[90m",crimson:"\x1B[38m"},BG:{black:"\x1B[40m",red:"\x1B[41m",green:"\x1B[42m",yellow:"\x1B[43m",blue:"\x1B[44m",magenta:"\x1B[45m",cyan:"\x1B[46m",white:"\x1B[47m",gray:"\x1B[100m",crimson:"\x1B[48m"}};var A=y(require("logger"));var s=require("@matter/main"),N=require("@matter/main/protocol"),M=require("@matter/main/endpoints/aggregator"),I=require("@matter/main/types");var F=require("@matter/main");var E=class{constructor(e,o,t){this.device=e;this.sendModuleControl=o;this.events=t}async destroyEndpoint(){await this.endpoint.close()}};var k=require("@matter/main/devices/on-off-plug-in-unit"),C=require("@matter/main/behaviors/bridged-device-basic-information"),b=class extends E{constructor(e,o,t){super(e,o,t);let{nodeLabel:r,productName:a,productLabel:p,serialNumber:h}=e.matter;this.endpoint=new F.Endpoint(k.OnOffPlugInUnitDevice.with(C.BridgedDeviceBasicInformationServer),{id:e.id,bridgedDeviceBasicInformation:{nodeLabel:r,productName:a,productLabel:p,serialNumber:h,reachable:!0}});let{setOnWithNotification:l,setOffWithNotification:c,toggleWithNotification:f,setWithNotificationPayload:g,onOnSend:S,onOffSend:v,onToggleSend:_}=e.behavior;this.endpoint.events.onOff.onOff$Changed.on(d=>{_&&o(_,d),d&&S&&o(S),!d&&v&&o(v)}),l&&t.on(`__${l}`,()=>{this.endpoint.act(async d=>{await d.onOff.on()})}),c&&t.on(`__${c}`,()=>{this.endpoint.act(async d=>{await d.onOff.off()})}),f&&t.on(`__${f}`,()=>{this.endpoint.act(async d=>{await d.onOff.toggle()})}),g&&t.on(`__${g}`,d=>{this.endpoint.act(async R=>{d.payload?await R.onOff.on():await R.onOff.off()})})}};var j=`${n.reset}[${n.FG.magenta}MMM-Matter${n.reset}] (${n.FG.green}MatterServer${n.reset})`,w=class{constructor(e,o,t,r,a,p,h,l,c){this.endpoints=new Map;this.sendToClientEventStream=e,this.sendSocketNotification=o,this.events=t,this.environment=s.Environment.default,this.environment.vars.set("storage.path",a),A.info(`${j} Store path updated. ${n.FG.gray}${a}${n.reset}`),c&&this.environment.vars.set("mdns.networkInterface",c),this.mdnsInterface=c,this.environment.vars.set("log.level",p),this.environment.vars.set("log.format",h),this.storageService=this.environment.get(s.StorageService),this.moduleStorageService=r,this.moduleVersionString=l}async createServerNode(){let e="MMM-Matter Bridge",o="MMM Bridge",t="fabrizz",a=(await this.storageService.open("device")).createContext("data"),p=await a.get("passcode",20240303),h=await a.get("discriminator",3840),l=await a.get("vendorid",65521),c=await a.get("productid",32768),f=await a.get("uniqueid",s.Time.nowMs().toString());if(await a.set({passcode:p,discriminator:h,vendorid:l,productid:c,uniqueid:f}),this.serverNode=await s.ServerNode.create({id:f,network:{port:5540},commissioning:{passcode:p,discriminator:h},productDescription:{name:o,deviceType:M.AggregatorEndpoint.deviceType},basicInformation:{vendorName:t,vendorId:(0,I.VendorId)(l),nodeLabel:e,productName:e,productLabel:e,productId:c,serialNumber:`MMM-MATTER-${f}`,uniqueId:f,hardwareVersionString:this.moduleVersionString,softwareVersionString:this.moduleVersionString,hardwareVersion:1,softwareVersion:1,productUrl:"https://github.com/Fabrizz/MMM-Matter",reachable:!0}}),this.serverAggregator=new s.Endpoint(M.AggregatorEndpoint,{id:"aggregator"}),await this.serverNode.add(this.serverAggregator),this.serverNode.lifecycle.commissioned.on(()=>console.log("Server was initially commissioned successfully!")),this.serverNode.lifecycle.decommissioned.on(()=>console.log("Server was fully decommissioned successfully!")),this.serverNode.lifecycle.online.on(()=>{console.log("Server is online"),console.log("Initial Fabrics when coming online",this.serverNode.state.commissioning.fabrics)}),this.serverNode.lifecycle.offline.on(()=>console.log("Server is offline")),this.serverNode.events.commissioning.fabricsChanged.on((g,S)=>{let v="";switch(S){case N.FabricAction.Added:v="added";break;case N.FabricAction.Removed:v="removed";break;case N.FabricAction.Updated:v="updated";break}console.log(`Commissioned Fabrics changed event (${v}) for ${g} triggered`,this.serverNode.state.commissioning.fabrics[g])}),(0,N.logEndpoint)(s.EndpointServer.forEndpoint(this.serverNode)),this.serverNode.lifecycle.isCommissioned)console.log("Device is already commissioned. Waiting for controllers to connect ...");else{let{qrPairingCode:g,manualPairingCode:S}=this.serverNode.state.commissioning.pairingCodes;console.log(`QR Code URL: https://project-chip.github.io/connectedhomeip/qrcode.html?data=${g}`),console.log(`Manual pairing code: ${S}`)}}async startServerNode(){await this.serverNode.start()}async destroyServerNode(){await this.serverNode.close()}async eraseServerNode(){await this.serverNode.erase()}async addDeviceToBridge(e){let o,t=[e,(r,a={})=>{this.sendToClientEventStream("CONTROL_MODULES",{tag:r,payload:a}),this.sendSocketNotification("CONTROL_MODULES",{tag:r,payload:a})},this.events];switch(e.matter.type){case"switch.onoff":o=new b(...t);break}await this.serverAggregator.add(o.endpoint)}};var O=require("node-persist"),x=L.join(__dirname,"/module-store"),B=L.join(__dirname,"/matter-store"),D=L.join(__dirname,"client","dist"),P="1.0.0",T=`${n.reset}[${n.FG.magenta}MMM-Matter${n.reset}] (NodeHelper)`;O.init({dir:x}).then(async()=>{m.info(`${T} Module store initiated. ${n.FG.gray}Path: ${x}${n.reset}`)});module.exports=G.create({start(){m.log(`${T} ${n.FG.black}${n.BG.white} ⠖ MMM-Matter by Fabrizz ${n.reset} Node helper loaded.`),this.VERSION=P||"",this.frontendReady=!1,this.apiEventsConsumers=new Map,this.events=new U.EventEmitter,this.translations={},this.matterServer=null;let i=u.Router(),e=u.Router();e.route("/version").get((o,t)=>{t.send(this.VERSION)}),e.route("/paths").get((o,t)=>{t.send({PATH_MODULE_STORE:x,PATH_MATTER_STORE:B,PATH_CLIENT_DIST:D})}),e.route("/translations").get((o,t)=>{t.send(this.translations)}),e.route("/store").get(async(o,t)=>{t.send(await O.keys())}),e.route("/store/:key").get(async(o,t)=>{t.send(await O.getItem(o.params.key))}),e.route("/state/:deviceId").get((o,t)=>{t.send({data:"test",ts:Date.now()})}),e.get("/events",async(o,t)=>{t.set({"Content-Type":"text/event-stream","Cache-Control":"no-cache",Connection:"keep-alive","Access-Control-Allow-Origin":"*"}),t.flushHeaders(),t.write(`retry: 10000

`);let r=Date.now().toString(16);this.apiEventsConsumers.set(r,t),t.on("close",()=>this.apiEventsConsumers.delete(r))}),i.use("/",u.static(D)),i.use("/api",e),this.expressApp.use("/matter",i),m.info(`${T} Started frontend. ${n.FG.gray}Build path: ${D}${n.reset}`)},socketNotificationReceived:async function(i,e){switch(i){case"FRONTEND_READY":this.frontendReady?m.info(`${T} Frontend has been reloaded.`):(this.frontendReady=!0,this.matterServer=new w((o,t)=>this.sendToClientEventStream(o,t),(o,t)=>this.sendSocketNotification(o,t),this.events,O,B,e.matterLogLevel,e.matterLogFormat,P),await this.matterServer.createServerNode(),await this.matterServer.addDeviceToBridge({id:"onofftest",matter:{type:"switch.onoff",nodeLabel:"Test Switch",productName:"Test Switch",productLabel:"Test Switch",serialNumber:"1234567890"},behavior:{setOnWithNotification:"TEST_SET_ON",setOffWithNotification:"TEST_SET_OFF",onOnSend:"TEST_ON",onOffSend:"TEST_OFF"},description:{isUserDefined:!0,createdAt:Date.now(),updatedAt:Date.now()}}),await this.matterServer.startServerNode());break;case"FRONTEND_TRANSLATIONS":this.translations=e,this.sendToClientEventStream("RELOAD_FRONTEND");break;case"EXTERNAL_CONTROL":m.debug("NOTIFICATION_FORBACKEND",`__${e.tag} 
`,JSON.stringify(e)),this.events.emit(`__${e.tag}`,e),this.sendToClientEventStream("EXTERNAL_CONTROL",e);break;case"EXTERNAL_SUGGESTION":m.debug("EXTERNAL_SUGGESTION",e);break}},sendToClientEventStream(i,e={}){this.apiEventsConsumers.forEach(o=>o.write(`data: ${JSON.stringify({tag:i,payload:e})}

`))}});
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL2JhY2tlbmQvYmFja2VuZC50cyIsICJzcmMvYmFja2VuZC91dGlscy50cyIsICJzcmMvYmFja2VuZC9tYXR0ZXIudHMiLCAic3JjL2JhY2tlbmQvZGV2aWNlcy9NYXR0ZXJTd2l0Y2hPbk9mZi50cyIsICJzcmMvYmFja2VuZC9kZXZpY2VzL01hdHRlckJhc2VEZXZpY2UudHMiXSwKICAic291cmNlc0NvbnRlbnQiOiBbIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBlcy9tYWdpY21pcnJvci1tb2R1bGUuZC50c1wiIC8+XHJcblxyXG5pbXBvcnQgKiBhcyBOb2RlSGVscGVyIGZyb20gJ25vZGVfaGVscGVyJ1xyXG5pbXBvcnQgKiBhcyBMb2cgZnJvbSAnbG9nZ2VyJ1xyXG5pbXBvcnQgKiBhcyBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xyXG5pbXBvcnQgKiBhcyBwYXRoIGZyb20gJ3BhdGgnO1xyXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIgfSBmcm9tICdldmVudHMnO1xyXG5pbXBvcnQgeyBDT0xPUlMgfSBmcm9tIFwiLi91dGlsc1wiXHJcbmltcG9ydCB7IEZyb250ZW5kUmVhZHlQYXlsb2FkLCBOb3RpZmljYXRpb25Gb3JCYWNrZW5kUGF5bG9hZCB9IGZyb20gJy4uL3R5cGVzL21vZHVsZSc7XHJcbmltcG9ydCB7IE1hdHRlclNlcnZlciB9IGZyb20gJy4vbWF0dGVyJztcclxuXHJcbmltcG9ydCB0eXBlIE5vZGVQZXJzaXN0IGZyb20gJ25vZGUtcGVyc2lzdCc7XHJcbi8qKiBNb2R1bGUgc3RvcmFnZSwgc2F2ZXMgdXNlci1mYWNpbmcgbm90aWZpY2F0aW9uIGRlZmluaXRpb25zICovXHJcbmNvbnN0IHN0b3JhZ2U6IE5vZGVQZXJzaXN0LkxvY2FsU3RvcmFnZSA9IHJlcXVpcmUoJ25vZGUtcGVyc2lzdCcpO1xyXG5cclxuY29uc3QgUEFUSF9NT0RVTEVfU1RPUkUgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi9tb2R1bGUtc3RvcmVcIik7XHJcbmNvbnN0IFBBVEhfTUFUVEVSX1NUT1JFID0gcGF0aC5qb2luKF9fZGlybmFtZSwgXCIvbWF0dGVyLXN0b3JlXCIpO1xyXG5jb25zdCBQQVRIX0NMSUVOVF9ESVNUID0gcGF0aC5qb2luKF9fZGlybmFtZSwgXCJjbGllbnRcIiwgXCJkaXN0XCIpO1xyXG5cclxuLy8gQHRzLWV4cGVjdC1lcnJvciBcIjEuMC4wXCIgaXMgcmVwbGFjZWQgYnkgUm9sbHVwXHJcbmNvbnN0IE1PRFVMRV9WRVJTSU9OOiBzdHJpbmcgPSBcIjEuMC4wXCI7XHJcbmNvbnN0IE1PRFVMRV9UQUcgPSBgJHtDT0xPUlMucmVzZXR9WyR7Q09MT1JTLkZHLm1hZ2VudGF9TU1NLU1hdHRlciR7Q09MT1JTLnJlc2V0fV0gKE5vZGVIZWxwZXIpYDtcclxuXHJcbnN0b3JhZ2UuaW5pdCh7IGRpcjogUEFUSF9NT0RVTEVfU1RPUkUgfSkudGhlbihhc3luYyAoKSA9PiB7XHJcbiAgTG9nLmluZm8oYCR7TU9EVUxFX1RBR30gTW9kdWxlIHN0b3JlIGluaXRpYXRlZC4gJHtDT0xPUlMuRkcuZ3JheX1QYXRoOiAke1BBVEhfTU9EVUxFX1NUT1JFfSR7Q09MT1JTLnJlc2V0fWApO1xyXG5cclxuICAvL2NvbnN0IGRldmljZXMgPSBhd2FpdCBzdG9yYWdlLmdldEl0ZW0oXCJpc0ZpcnN0U2Vzc2lvblwiKTtcclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IE5vZGVIZWxwZXIuY3JlYXRlKHtcclxuICBzdGFydCgpIHtcclxuICAgIExvZy5sb2coYCR7TU9EVUxFX1RBR30gJHtDT0xPUlMuRkcuYmxhY2t9JHtDT0xPUlMuQkcud2hpdGV9IOKgliBNTU0tTWF0dGVyIGJ5IEZhYnJpenogJHtDT0xPUlMucmVzZXR9IE5vZGUgaGVscGVyIGxvYWRlZC5gKTtcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIERlY2xhcmF0aW9uc1xyXG4gICAgdGhpcy5WRVJTSU9OID0gTU9EVUxFX1ZFUlNJT04gfHwgXCJcIjtcclxuICAgIHRoaXMuZnJvbnRlbmRSZWFkeSA9IGZhbHNlO1xyXG4gICAgdGhpcy5hcGlFdmVudHNDb25zdW1lcnMgPSBuZXcgTWFwKCk7XHJcbiAgICB0aGlzLmV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIHRoaXMudHJhbnNsYXRpb25zID0ge307XHJcbiAgICB0aGlzLm1hdHRlclNlcnZlciA9IG51bGw7XHJcblxyXG4gICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vIEFwaSByb3V0ZXNcclxuICAgIGNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcbiAgICBjb25zdCBhcGlSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xyXG5cclxuICAgIGFwaVJvdXRlci5yb3V0ZShcIi92ZXJzaW9uXCIpLmdldCgocSwgcikgPT4geyByLnNlbmQodGhpcy5WRVJTSU9OKSB9KTtcclxuICAgIGFwaVJvdXRlci5yb3V0ZShcIi9wYXRoc1wiKS5nZXQoKHEsIHIpID0+IHsgci5zZW5kKHsgUEFUSF9NT0RVTEVfU1RPUkUsIFBBVEhfTUFUVEVSX1NUT1JFLCBQQVRIX0NMSUVOVF9ESVNUIH0pIH0pO1xyXG4gICAgYXBpUm91dGVyLnJvdXRlKFwiL3RyYW5zbGF0aW9uc1wiKS5nZXQoKHEsIHIpID0+IHsgci5zZW5kKHRoaXMudHJhbnNsYXRpb25zKSB9KTtcclxuICAgIGFwaVJvdXRlci5yb3V0ZShcIi9zdG9yZVwiKS5nZXQoYXN5bmMgKHEsIHIpID0+IHsgci5zZW5kKGF3YWl0IHN0b3JhZ2Uua2V5cygpKSB9KTtcclxuICAgIGFwaVJvdXRlci5yb3V0ZShcIi9zdG9yZS86a2V5XCIpLmdldChhc3luYyAocSwgcikgPT4geyByLnNlbmQoYXdhaXQgc3RvcmFnZS5nZXRJdGVtKHEucGFyYW1zLmtleSkpIH0pO1xyXG5cclxuICAgIGFwaVJvdXRlci5yb3V0ZShcIi9zdGF0ZS86ZGV2aWNlSWRcIikuZ2V0KChxLCByKSA9PiB7XHJcbiAgICAgICAgci5zZW5kKHsgZGF0YTogXCJ0ZXN0XCIsIHRzOiBEYXRlLm5vdygpIH0pO1xyXG4gICAgICB9KVxyXG5cclxuICAgIGFwaVJvdXRlci5nZXQoXCIvZXZlbnRzXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgICByZXMuc2V0KHtcclxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvZXZlbnQtc3RyZWFtXCIsXHJcbiAgICAgICAgXCJDYWNoZS1Db250cm9sXCI6IFwibm8tY2FjaGVcIixcclxuICAgICAgICBcIkNvbm5lY3Rpb25cIjogXCJrZWVwLWFsaXZlXCIsXHJcbiAgICAgICAgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIjogXCIqXCIsXHJcbiAgICAgIH0pO1xyXG4gICAgICByZXMuZmx1c2hIZWFkZXJzKCk7XHJcbiAgICAgIHJlcy53cml0ZShcInJldHJ5OiAxMDAwMFxcblxcblwiKTtcclxuXHJcbiAgICAgIGNvbnN0IGNsaWVudElkID0gRGF0ZS5ub3coKS50b1N0cmluZygxNik7XHJcbiAgICAgIHRoaXMuYXBpRXZlbnRzQ29uc3VtZXJzLnNldChjbGllbnRJZCwgcmVzKTtcclxuICAgICAgcmVzLm9uKFwiY2xvc2VcIiwgKCkgPT4gdGhpcy5hcGlFdmVudHNDb25zdW1lcnMuZGVsZXRlKGNsaWVudElkKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByb3V0ZXIudXNlKFwiL1wiLCBleHByZXNzLnN0YXRpYyhQQVRIX0NMSUVOVF9ESVNUKSk7XHJcbiAgICByb3V0ZXIudXNlKFwiL2FwaVwiLCBhcGlSb3V0ZXIpO1xyXG4gICAgdGhpcy5leHByZXNzQXBwLnVzZShcIi9tYXR0ZXJcIiwgcm91dGVyKTtcclxuICAgIExvZy5pbmZvKGAke01PRFVMRV9UQUd9IFN0YXJ0ZWQgZnJvbnRlbmQuICR7Q09MT1JTLkZHLmdyYXl9QnVpbGQgcGF0aDogJHtQQVRIX0NMSUVOVF9ESVNUfSR7Q09MT1JTLnJlc2V0fWApO1xyXG4gIH0sXHJcblxyXG4gIHNvY2tldE5vdGlmaWNhdGlvblJlY2VpdmVkOiBhc3luYyBmdW5jdGlvbiAobm90aWZpY2F0aW9uOiBTb2NrZXROb3RpZmljYXRpb25zRnJvbnRlbmQsIHBheWxvYWQ6IHVua25vd24pIHtcclxuICAgIHN3aXRjaCAobm90aWZpY2F0aW9uKSB7XHJcbiAgICAgIGNhc2UgXCJGUk9OVEVORF9SRUFEWVwiOlxyXG4gICAgICAgIGlmICh0aGlzLmZyb250ZW5kUmVhZHkpIHtcclxuICAgICAgICAgIExvZy5pbmZvKGAke01PRFVMRV9UQUd9IEZyb250ZW5kIGhhcyBiZWVuIHJlbG9hZGVkLmApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLmZyb250ZW5kUmVhZHkgPSB0cnVlO1xyXG4gICAgICAgICAgdGhpcy5tYXR0ZXJTZXJ2ZXIgPSBuZXcgTWF0dGVyU2VydmVyKFxyXG4gICAgICAgICAgICAoeCwgeSkgPT4gdGhpcy5zZW5kVG9DbGllbnRFdmVudFN0cmVhbSh4LCB5KSxcclxuICAgICAgICAgICAgKHgsIHkpID0+IHRoaXMuc2VuZFNvY2tldE5vdGlmaWNhdGlvbih4LCB5KSxcclxuICAgICAgICAgICAgdGhpcy5ldmVudHMsXHJcbiAgICAgICAgICAgIHN0b3JhZ2UsIFxyXG4gICAgICAgICAgICBQQVRIX01BVFRFUl9TVE9SRSxcclxuICAgICAgICAgICAgKHBheWxvYWQgYXMgRnJvbnRlbmRSZWFkeVBheWxvYWQpLm1hdHRlckxvZ0xldmVsLFxyXG4gICAgICAgICAgICAocGF5bG9hZCBhcyBGcm9udGVuZFJlYWR5UGF5bG9hZCkubWF0dGVyTG9nRm9ybWF0LFxyXG4gICAgICAgICAgICBNT0RVTEVfVkVSU0lPTlxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICBhd2FpdCB0aGlzLm1hdHRlclNlcnZlci5jcmVhdGVTZXJ2ZXJOb2RlKCk7XHJcblxyXG4gICAgICAgICAgYXdhaXQgdGhpcy5tYXR0ZXJTZXJ2ZXIuYWRkRGV2aWNlVG9CcmlkZ2Uoe1xyXG4gICAgICAgICAgICBpZDogXCJvbm9mZnRlc3RcIixcclxuICAgICAgICAgICAgbWF0dGVyOiB7XHJcbiAgICAgICAgICAgICAgdHlwZTogXCJzd2l0Y2gub25vZmZcIixcclxuICAgICAgICAgICAgICBub2RlTGFiZWw6IFwiVGVzdCBTd2l0Y2hcIixcclxuICAgICAgICAgICAgICBwcm9kdWN0TmFtZTogXCJUZXN0IFN3aXRjaFwiLFxyXG4gICAgICAgICAgICAgIHByb2R1Y3RMYWJlbDogXCJUZXN0IFN3aXRjaFwiLFxyXG4gICAgICAgICAgICAgIHNlcmlhbE51bWJlcjogXCIxMjM0NTY3ODkwXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJlaGF2aW9yOiB7XHJcbiAgICAgICAgICAgICAgc2V0T25XaXRoTm90aWZpY2F0aW9uOiBcIlRFU1RfU0VUX09OXCIsXHJcbiAgICAgICAgICAgICAgc2V0T2ZmV2l0aE5vdGlmaWNhdGlvbjogXCJURVNUX1NFVF9PRkZcIixcclxuICAgICAgICAgICAgICBvbk9uU2VuZDogXCJURVNUX09OXCIsXHJcbiAgICAgICAgICAgICAgb25PZmZTZW5kOiBcIlRFU1RfT0ZGXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB7XHJcbiAgICAgICAgICAgICAgaXNVc2VyRGVmaW5lZDogdHJ1ZSxcclxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgdXBkYXRlZEF0OiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgIGF3YWl0IHRoaXMubWF0dGVyU2VydmVyLnN0YXJ0U2VydmVyTm9kZSgpXHJcblxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJGUk9OVEVORF9UUkFOU0xBVElPTlNcIjpcclxuICAgICAgICB0aGlzLnRyYW5zbGF0aW9ucyA9IHBheWxvYWQ7XHJcbiAgICAgICAgdGhpcy5zZW5kVG9DbGllbnRFdmVudFN0cmVhbShcIlJFTE9BRF9GUk9OVEVORFwiKTtcclxuICAgICAgICBicmVha1xyXG4gICAgICBjYXNlIFwiRVhURVJOQUxfQ09OVFJPTFwiOlxyXG4gICAgICAgIExvZy5kZWJ1ZyhcIk5PVElGSUNBVElPTl9GT1JCQUNLRU5EXCIsIGBfXyR7KHBheWxvYWQgYXMgTm90aWZpY2F0aW9uRm9yQmFja2VuZFBheWxvYWQpLnRhZ30gXFxuYCwgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpOyAvLyA8LS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoYF9fJHsocGF5bG9hZCBhcyBOb3RpZmljYXRpb25Gb3JCYWNrZW5kUGF5bG9hZCkudGFnfWAsIHBheWxvYWQgYXMgTm90aWZpY2F0aW9uRm9yQmFja2VuZFBheWxvYWQpO1xyXG4gICAgICAgIHRoaXMuc2VuZFRvQ2xpZW50RXZlbnRTdHJlYW0oXCJFWFRFUk5BTF9DT05UUk9MXCIsIHBheWxvYWQgYXMgTm90aWZpY2F0aW9uRm9yQmFja2VuZFBheWxvYWQpO1xyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgXCJFWFRFUk5BTF9TVUdHRVNUSU9OXCI6XHJcbiAgICAgICAgTG9nLmRlYnVnKFwiRVhURVJOQUxfU1VHR0VTVElPTlwiLCBwYXlsb2FkKTtcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHNlbmRUb0NsaWVudEV2ZW50U3RyZWFtKHRhZywgcGF5bG9hZCA9IHt9KSB7XHJcbiAgICB0aGlzLmFwaUV2ZW50c0NvbnN1bWVycy5mb3JFYWNoKChyZXM6IGV4cHJlc3MuUmVzcG9uc2UpID0+IFxyXG4gICAgICByZXMud3JpdGUoYGRhdGE6ICR7SlNPTi5zdHJpbmdpZnkoeyB0YWcsIHBheWxvYWQgfSl9XFxuXFxuYCkpO1xyXG4gIH0sXHJcbn0pXHJcbiIsICJleHBvcnQgY29uc3QgQ09MT1JTID0ge1xyXG4gIHJlc2V0OiBcIlxceDFiWzBtXCIsXHJcbiAgYnJpZ2h0OiBcIlxceDFiWzFtXCIsXHJcbiAgZGltOiBcIlxceDFiWzJtXCIsXHJcbiAgdW5kZXJzY29yZTogXCJcXHgxYls0bVwiLFxyXG4gIGJsaW5rOiBcIlxceDFiWzVtXCIsXHJcbiAgcmV2ZXJzZTogXCJcXHgxYls3bVwiLFxyXG4gIGhpZGRlbjogXCJcXHgxYls4bVwiLFxyXG5cclxuICBGRzoge1xyXG4gICAgYmxhY2s6IFwiXFx4MWJbMzBtXCIsXHJcbiAgICByZWQ6IFwiXFx4MWJbMzFtXCIsXHJcbiAgICBncmVlbjogXCJcXHgxYlszMm1cIixcclxuICAgIHllbGxvdzogXCJcXHgxYlszM21cIixcclxuICAgIGJsdWU6IFwiXFx4MWJbMzRtXCIsXHJcbiAgICBtYWdlbnRhOiBcIlxceDFiWzM1bVwiLFxyXG4gICAgY3lhbjogXCJcXHgxYlszNm1cIixcclxuICAgIHdoaXRlOiBcIlxceDFiWzM3bVwiLFxyXG4gICAgZ3JheTogXCJcXHgxYls5MG1cIixcclxuICAgIGNyaW1zb246IFwiXFx4MWJbMzhtXCIgLy8gU2NhcmxldFxyXG4gIH0sXHJcbiAgQkc6IHtcclxuICAgIGJsYWNrOiBcIlxceDFiWzQwbVwiLFxyXG4gICAgcmVkOiBcIlxceDFiWzQxbVwiLFxyXG4gICAgZ3JlZW46IFwiXFx4MWJbNDJtXCIsXHJcbiAgICB5ZWxsb3c6IFwiXFx4MWJbNDNtXCIsXHJcbiAgICBibHVlOiBcIlxceDFiWzQ0bVwiLFxyXG4gICAgbWFnZW50YTogXCJcXHgxYls0NW1cIixcclxuICAgIGN5YW46IFwiXFx4MWJbNDZtXCIsXHJcbiAgICB3aGl0ZTogXCJcXHgxYls0N21cIixcclxuICAgIGdyYXk6IFwiXFx4MWJbMTAwbVwiLFxyXG4gICAgY3JpbXNvbjogXCJcXHgxYls0OG1cIlxyXG4gIH1cclxufTsiLCAiaW1wb3J0ICogYXMgTG9nIGZyb20gJ2xvZ2dlcic7XHJcbmltcG9ydCB7IENPTE9SUyB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IEVuZHBvaW50LCBFbmRwb2ludFNlcnZlciwgRW52aXJvbm1lbnQsIFNlcnZlck5vZGUsIFN0b3JhZ2VTZXJ2aWNlLCBUaW1lIH0gZnJvbSBcIkBtYXR0ZXIvbWFpblwiO1xyXG5pbXBvcnQgeyBGYWJyaWNBY3Rpb24sIGxvZ0VuZHBvaW50IH0gZnJvbSBcIkBtYXR0ZXIvbWFpbi9wcm90b2NvbFwiO1xyXG5pbXBvcnQgeyBBZ2dyZWdhdG9yRW5kcG9pbnQgfSBmcm9tIFwiQG1hdHRlci9tYWluL2VuZHBvaW50cy9hZ2dyZWdhdG9yXCI7XHJcbmltcG9ydCB7IFZlbmRvcklkIH0gZnJvbSBcIkBtYXR0ZXIvbWFpbi90eXBlc1wiO1xyXG5pbXBvcnQgeyBNYXR0ZXJTd2l0Y2hPbk9mZiB9IGZyb20gJ0BiYWNrZW5kL2RldmljZXMvTWF0dGVyU3dpdGNoT25PZmYnO1xyXG5pbXBvcnQgeyBNYXR0ZXJCYXNlRGV2aWNlIH0gZnJvbSAnQGJhY2tlbmQvZGV2aWNlcy9NYXR0ZXJCYXNlRGV2aWNlJztcclxuaW1wb3J0IHR5cGUgeyBMb2NhbFN0b3JhZ2UgfSBmcm9tIFwibm9kZS1wZXJzaXN0XCI7XHJcbmltcG9ydCB0eXBlIHsgbWF0dGVyTG9nTGV2ZWwsIG1hdHRlckxvZ0Zvcm1hdCwgbWF0dGVyRGV2aWNlRGVmaW5pdGlvbiB9IGZyb20gJ0B0eXBlc2QvbW9kdWxlJztcclxuXHJcbmNvbnN0IE1PRFVMRV9UQUcgPSBgJHtDT0xPUlMucmVzZXR9WyR7Q09MT1JTLkZHLm1hZ2VudGF9TU1NLU1hdHRlciR7Q09MT1JTLnJlc2V0fV0gKCR7Q09MT1JTLkZHLmdyZWVufU1hdHRlclNlcnZlciR7Q09MT1JTLnJlc2V0fSlgO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1hdHRlclNlcnZlciB7XHJcbiAgc2VuZFRvQ2xpZW50RXZlbnRTdHJlYW06IChldmVudDogc3RyaW5nLCBwYXlsb2FkPzogYW55KSA9PiB2b2lkO1xyXG4gIHNlbmRTb2NrZXROb3RpZmljYXRpb246IChldmVudDogc3RyaW5nLCBwYXlsb2FkPzogYW55KSA9PiB2b2lkO1xyXG4gIGV2ZW50czogTm9kZUpTLkV2ZW50RW1pdHRlcjtcclxuXHJcbiAgZW52aXJvbm1lbnQ6IEVudmlyb25tZW50O1xyXG4gIHN0b3JhZ2VTZXJ2aWNlOiBTdG9yYWdlU2VydmljZTtcclxuICBtb2R1bGVTdG9yYWdlU2VydmljZTogTG9jYWxTdG9yYWdlO1xyXG4gIG1kbnNJbnRlcmZhY2U6IHN0cmluZztcclxuICBtb2R1bGVWZXJzaW9uU3RyaW5nOiBzdHJpbmc7XHJcblxyXG4gIHNlcnZlck5vZGU6IFNlcnZlck5vZGU8U2VydmVyTm9kZS5Sb290RW5kcG9pbnQ+O1xyXG4gIHNlcnZlckFnZ3JlZ2F0b3I6IEVuZHBvaW50PEFnZ3JlZ2F0b3JFbmRwb2ludD47XHJcbiAgZW5kcG9pbnRzOiBNYXA8c3RyaW5nLCB7XHJcbiAgICBlbmRwb2ludDogRW5kcG9pbnQ8YW55PjtcclxuICAgIGRldmljZTogbWF0dGVyRGV2aWNlRGVmaW5pdGlvbjtcclxuICB9PiA9IG5ldyBNYXAoKTtcclxuXHJcbiAgY29uc3RydWN0b3IoXHJcbiAgICBzZW5kVG9DbGllbnRFdmVudFN0cmVhbTogKGV2ZW50OiBzdHJpbmcsIHBheWxvYWQ/OiBhbnkpID0+IHZvaWQsXHJcbiAgICBzZW5kU29ja2V0Tm90aWZpY2F0aW9uOiAoZXZlbnQ6IFNvY2tldE5vdGlmaWNhdGlvbnNCYWNrZW5kLCBwYXlsb2FkPzogYW55KSA9PiB2b2lkLFxyXG4gICAgZXZlbnRzOiBOb2RlSlMuRXZlbnRFbWl0dGVyLFxyXG4gICAgbW9kdWxlU3RvcmFnZVNlcnZpY2U6IExvY2FsU3RvcmFnZSxcclxuICAgIG1hdHRlclN0b3JlUGF0aDogc3RyaW5nLFxyXG4gICAgbWF0dGVyTG9nTGV2ZWw6IG1hdHRlckxvZ0xldmVsLFxyXG4gICAgbWF0dGVyTG9nRm9ybWF0OiBtYXR0ZXJMb2dGb3JtYXQsXHJcbiAgICBtb2R1bGVWZXJzaW9uU3RyaW5nLFxyXG4gICAgbWRuc0ludGVyZmFjZT86IHN0cmluZyxcclxuICApIHtcclxuICAgIHRoaXMuc2VuZFRvQ2xpZW50RXZlbnRTdHJlYW0gPSBzZW5kVG9DbGllbnRFdmVudFN0cmVhbTtcclxuICAgIHRoaXMuc2VuZFNvY2tldE5vdGlmaWNhdGlvbiA9IHNlbmRTb2NrZXROb3RpZmljYXRpb247XHJcbiAgICB0aGlzLmV2ZW50cyA9IGV2ZW50cztcclxuXHJcbiAgICB0aGlzLmVudmlyb25tZW50ID0gRW52aXJvbm1lbnQuZGVmYXVsdDtcclxuICAgIHRoaXMuZW52aXJvbm1lbnQudmFycy5zZXQoXCJzdG9yYWdlLnBhdGhcIiwgbWF0dGVyU3RvcmVQYXRoKTtcclxuICAgIExvZy5pbmZvKGAke01PRFVMRV9UQUd9IFN0b3JlIHBhdGggdXBkYXRlZC4gJHtDT0xPUlMuRkcuZ3JheX0ke21hdHRlclN0b3JlUGF0aH0ke0NPTE9SUy5yZXNldH1gKTtcclxuXHJcbiAgICBpZiAobWRuc0ludGVyZmFjZSkgdGhpcy5lbnZpcm9ubWVudC52YXJzLnNldChcIm1kbnMubmV0d29ya0ludGVyZmFjZVwiLCBtZG5zSW50ZXJmYWNlKTtcclxuICAgIHRoaXMubWRuc0ludGVyZmFjZSA9IG1kbnNJbnRlcmZhY2U7XHJcbiAgICB0aGlzLmVudmlyb25tZW50LnZhcnMuc2V0KFwibG9nLmxldmVsXCIsIG1hdHRlckxvZ0xldmVsKTtcclxuICAgIHRoaXMuZW52aXJvbm1lbnQudmFycy5zZXQoXCJsb2cuZm9ybWF0XCIsIG1hdHRlckxvZ0Zvcm1hdCk7XHJcbiAgICBcclxuICAgIHRoaXMuc3RvcmFnZVNlcnZpY2UgPSB0aGlzLmVudmlyb25tZW50LmdldChTdG9yYWdlU2VydmljZSk7XHJcbiAgICB0aGlzLm1vZHVsZVN0b3JhZ2VTZXJ2aWNlID0gbW9kdWxlU3RvcmFnZVNlcnZpY2U7XHJcbiAgICB0aGlzLm1vZHVsZVZlcnNpb25TdHJpbmcgPSBtb2R1bGVWZXJzaW9uU3RyaW5nO1xyXG5cclxuICB9XHJcbiAgXHJcbiAgYXN5bmMgY3JlYXRlU2VydmVyTm9kZSgpIHtcclxuICAgIGNvbnN0IHByb2R1Y3ROYW1lID0gXCJNTU0tTWF0dGVyIEJyaWRnZVwiO1xyXG4gICAgY29uc3QgZGV2aWNlTmFtZSA9IFwiTU1NIEJyaWRnZVwiO1xyXG4gICAgY29uc3QgdmVuZG9yTmFtZSA9IFwiZmFicml6elwiO1xyXG4gICAgY29uc3QgcG9ydCA9IDU1NDA7XHJcblxyXG4gICAgY29uc3QgZGV2aWNlU3RvcmFnZSA9IChhd2FpdCB0aGlzLnN0b3JhZ2VTZXJ2aWNlLm9wZW4oXCJkZXZpY2VcIikpLmNyZWF0ZUNvbnRleHQoXCJkYXRhXCIpO1xyXG4gICAgY29uc3QgcGFzc2NvZGUgPSBhd2FpdCBkZXZpY2VTdG9yYWdlLmdldChcInBhc3Njb2RlXCIsIDIwMjQwMzAzKTtcclxuICAgIGNvbnN0IGRpc2NyaW1pbmF0b3IgPSBhd2FpdCBkZXZpY2VTdG9yYWdlLmdldChcImRpc2NyaW1pbmF0b3JcIiwgMzg0MCk7XHJcbiAgICBjb25zdCB2ZW5kb3JJZCA9IGF3YWl0IGRldmljZVN0b3JhZ2UuZ2V0KFwidmVuZG9yaWRcIiwgMHhmZmYxKTtcclxuICAgIGNvbnN0IHByb2R1Y3RJZCA9IGF3YWl0IGRldmljZVN0b3JhZ2UuZ2V0KFwicHJvZHVjdGlkXCIsIDB4ODAwMCk7XHJcbiAgICBjb25zdCB1bmlxdWVJZCA9IChhd2FpdCBkZXZpY2VTdG9yYWdlLmdldChcInVuaXF1ZWlkXCIsIFRpbWUubm93TXMoKS50b1N0cmluZygpKSk7XHJcblxyXG4gICAgYXdhaXQgZGV2aWNlU3RvcmFnZS5zZXQoe1xyXG4gICAgICBwYXNzY29kZSxcclxuICAgICAgZGlzY3JpbWluYXRvcixcclxuICAgICAgdmVuZG9yaWQ6IHZlbmRvcklkLFxyXG4gICAgICBwcm9kdWN0aWQ6IHByb2R1Y3RJZCxcclxuICAgICAgdW5pcXVlaWQ6IHVuaXF1ZUlkLFxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5zZXJ2ZXJOb2RlID0gYXdhaXQgU2VydmVyTm9kZS5jcmVhdGUoe1xyXG4gICAgICBpZDogdW5pcXVlSWQsXHJcbiAgICAgIG5ldHdvcms6IHtcclxuICAgICAgICBwb3J0XHJcbiAgICAgIH0sXHJcbiAgICAgIGNvbW1pc3Npb25pbmc6IHtcclxuICAgICAgICBwYXNzY29kZSxcclxuICAgICAgICBkaXNjcmltaW5hdG9yLFxyXG4gICAgICB9LFxyXG4gICAgICBwcm9kdWN0RGVzY3JpcHRpb246IHtcclxuICAgICAgICBuYW1lOiBkZXZpY2VOYW1lLFxyXG4gICAgICAgIGRldmljZVR5cGU6IEFnZ3JlZ2F0b3JFbmRwb2ludC5kZXZpY2VUeXBlLFxyXG4gICAgICB9LFxyXG4gICAgICAvLyBQcm92aWRlIGRlZmF1bHRzIGZvciB0aGUgQmFzaWNJbmZvcm1hdGlvbiBjbHVzdGVyIG9uIHRoZSBSb290IGVuZHBvaW50XHJcbiAgICAgIGJhc2ljSW5mb3JtYXRpb246IHtcclxuICAgICAgICB2ZW5kb3JOYW1lLFxyXG4gICAgICAgIHZlbmRvcklkOiBWZW5kb3JJZCh2ZW5kb3JJZCksXHJcbiAgICAgICAgbm9kZUxhYmVsOiBwcm9kdWN0TmFtZSxcclxuICAgICAgICBwcm9kdWN0TmFtZSxcclxuICAgICAgICBwcm9kdWN0TGFiZWw6IHByb2R1Y3ROYW1lLFxyXG4gICAgICAgIHByb2R1Y3RJZCxcclxuICAgICAgICBzZXJpYWxOdW1iZXI6IGBNTU0tTUFUVEVSLSR7dW5pcXVlSWR9YCxcclxuICAgICAgICB1bmlxdWVJZCxcclxuICAgICAgICBoYXJkd2FyZVZlcnNpb25TdHJpbmc6IHRoaXMubW9kdWxlVmVyc2lvblN0cmluZyxcclxuICAgICAgICBzb2Z0d2FyZVZlcnNpb25TdHJpbmc6IHRoaXMubW9kdWxlVmVyc2lvblN0cmluZyxcclxuICAgICAgICBoYXJkd2FyZVZlcnNpb246IDEsXHJcbiAgICAgICAgc29mdHdhcmVWZXJzaW9uOiAxLFxyXG4gICAgICAgIHByb2R1Y3RVcmw6IFwiaHR0cHM6Ly9naXRodWIuY29tL0ZhYnJpenovTU1NLU1hdHRlclwiLFxyXG4gICAgICAgIHJlYWNoYWJsZTogdHJ1ZSxcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc2VydmVyQWdncmVnYXRvciA9IG5ldyBFbmRwb2ludChBZ2dyZWdhdG9yRW5kcG9pbnQsIHsgaWQ6IFwiYWdncmVnYXRvclwiIH0pO1xyXG4gICAgYXdhaXQgdGhpcy5zZXJ2ZXJOb2RlLmFkZCh0aGlzLnNlcnZlckFnZ3JlZ2F0b3IpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBldmVudCBpcyB0cmlnZ2VyZWQgd2hlbiB0aGUgZGV2aWNlIGlzIGluaXRpYWxseSBjb21taXNzaW9uZWQgc3VjY2Vzc2Z1bGx5LlxyXG4gICAgICogVGhpcyBtZWFuczogSXQgaXMgYWRkZWQgdG8gdGhlIGZpcnN0IGZhYnJpYy5cclxuICAgICAqL1xyXG4gICAgdGhpcy5zZXJ2ZXJOb2RlLmxpZmVjeWNsZS5jb21taXNzaW9uZWQub24oKCkgPT4gY29uc29sZS5sb2coXCJTZXJ2ZXIgd2FzIGluaXRpYWxseSBjb21taXNzaW9uZWQgc3VjY2Vzc2Z1bGx5IVwiKSk7XHJcblxyXG4gICAgLyoqIFRoaXMgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4gYWxsIGZhYnJpY3MgYXJlIHJlbW92ZWQgZnJvbSB0aGUgZGV2aWNlLCB1c3VhbGx5IGl0IGFsc28gZG9lcyBhIGZhY3RvcnkgcmVzZXQgdGhlbi4gKi9cclxuICAgIHRoaXMuc2VydmVyTm9kZS5saWZlY3ljbGUuZGVjb21taXNzaW9uZWQub24oKCkgPT4gY29uc29sZS5sb2coXCJTZXJ2ZXIgd2FzIGZ1bGx5IGRlY29tbWlzc2lvbmVkIHN1Y2Nlc3NmdWxseSFcIikpO1xyXG5cclxuICAgIC8qKiBUaGlzIGV2ZW50IGlzIHRyaWdnZXJlZCB3aGVuIHRoZSBkZXZpY2Ugd2VudCBvbmxpbmUuIFRoaXMgbWVhbnMgdGhhdCBpdCBpcyBkaXNjb3ZlcmFibGUgaW4gdGhlIG5ldHdvcmsuICovXHJcbiAgICB0aGlzLnNlcnZlck5vZGUubGlmZWN5Y2xlLm9ubGluZS5vbigoKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwiU2VydmVyIGlzIG9ubGluZVwiKTtcclxuICAgICAgY29uc29sZS5sb2coXCJJbml0aWFsIEZhYnJpY3Mgd2hlbiBjb21pbmcgb25saW5lXCIsIHRoaXMuc2VydmVyTm9kZS5zdGF0ZS5jb21taXNzaW9uaW5nLmZhYnJpY3MpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLyoqIFRoaXMgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4gdGhlIGRldmljZSB3ZW50IG9mZmxpbmUuIEl0IGlzIG5vIGxvbmdlciBkaXNjb3ZlcmFibGUgb3IgY29ubmVjdGFibGUgaW4gdGhlIG5ldHdvcmsuICovXHJcbiAgICB0aGlzLnNlcnZlck5vZGUubGlmZWN5Y2xlLm9mZmxpbmUub24oKCkgPT4gY29uc29sZS5sb2coXCJTZXJ2ZXIgaXMgb2ZmbGluZVwiKSk7XHJcblxyXG4gICAgLyoqIFRoaXMgZXZlbnQgaXMgdHJpZ2dlcmVkIHdoZW4gYSBmYWJyaWMgaXMgYWRkZWQsIHJlbW92ZWQgb3IgdXBkYXRlZCBvbiB0aGUgZGV2aWNlLiAqL1xyXG4gICAgdGhpcy5zZXJ2ZXJOb2RlLmV2ZW50cy5jb21taXNzaW9uaW5nLmZhYnJpY3NDaGFuZ2VkLm9uKChmYWJyaWNJbmRleCwgZmFicmljQWN0aW9uKSA9PiB7XHJcbiAgICAgIGxldCBhY3Rpb24gPSBcIlwiO1xyXG4gICAgICBzd2l0Y2ggKGZhYnJpY0FjdGlvbikge1xyXG4gICAgICAgIGNhc2UgRmFicmljQWN0aW9uLkFkZGVkOlxyXG4gICAgICAgICAgYWN0aW9uID0gXCJhZGRlZFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGYWJyaWNBY3Rpb24uUmVtb3ZlZDpcclxuICAgICAgICAgIGFjdGlvbiA9IFwicmVtb3ZlZFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBGYWJyaWNBY3Rpb24uVXBkYXRlZDpcclxuICAgICAgICAgIGFjdGlvbiA9IFwidXBkYXRlZFwiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgICAgY29uc29sZS5sb2coYENvbW1pc3Npb25lZCBGYWJyaWNzIGNoYW5nZWQgZXZlbnQgKCR7YWN0aW9ufSkgZm9yICR7ZmFicmljSW5kZXh9IHRyaWdnZXJlZGAsIHRoaXMuc2VydmVyTm9kZS5zdGF0ZS5jb21taXNzaW9uaW5nLmZhYnJpY3NbZmFicmljSW5kZXhdKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxvZ0VuZHBvaW50KEVuZHBvaW50U2VydmVyLmZvckVuZHBvaW50KHRoaXMuc2VydmVyTm9kZSkpO1xyXG5cclxuICAgIC8vIENvbW1pc2lvbmluZyBsb2dpY1xyXG4gICAgaWYgKCF0aGlzLnNlcnZlck5vZGUubGlmZWN5Y2xlLmlzQ29tbWlzc2lvbmVkKSB7XHJcbiAgICAgIGNvbnN0IHsgcXJQYWlyaW5nQ29kZSwgbWFudWFsUGFpcmluZ0NvZGUgfSA9IHRoaXMuc2VydmVyTm9kZS5zdGF0ZS5jb21taXNzaW9uaW5nLnBhaXJpbmdDb2RlcztcclxuICAgICAgICBjb25zb2xlLmxvZyhgUVIgQ29kZSBVUkw6IGh0dHBzOi8vcHJvamVjdC1jaGlwLmdpdGh1Yi5pby9jb25uZWN0ZWRob21laXAvcXJjb2RlLmh0bWw/ZGF0YT0ke3FyUGFpcmluZ0NvZGV9YCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYE1hbnVhbCBwYWlyaW5nIGNvZGU6ICR7bWFudWFsUGFpcmluZ0NvZGV9YCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRGV2aWNlIGlzIGFscmVhZHkgY29tbWlzc2lvbmVkLiBXYWl0aW5nIGZvciBjb250cm9sbGVycyB0byBjb25uZWN0IC4uLlwiKTtcclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxuICBhc3luYyBzdGFydFNlcnZlck5vZGUoKSB7XHJcbiAgICBhd2FpdCB0aGlzLnNlcnZlck5vZGUuc3RhcnQoKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGRlc3Ryb3lTZXJ2ZXJOb2RlKCkge1xyXG4gICAgYXdhaXQgdGhpcy5zZXJ2ZXJOb2RlLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBlcmFzZVNlcnZlck5vZGUoKSB7XHJcbiAgICBhd2FpdCB0aGlzLnNlcnZlck5vZGUuZXJhc2UoKVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgYWRkRGV2aWNlVG9CcmlkZ2UoZGV2aWNlRGVmaW5pdGlvbjogbWF0dGVyRGV2aWNlRGVmaW5pdGlvbikge1xyXG4gICAgbGV0IGRldmljZTogTWF0dGVyQmFzZURldmljZTxhbnk+O1xyXG5cclxuICAgIGNvbnN0IGRldmljZURhdGE6IFtcclxuICAgICAgbWF0dGVyRGV2aWNlRGVmaW5pdGlvbixcclxuICAgICAgKHRhZzogc3RyaW5nLCBwYXlsb2FkPzogYW55KSA9PiB2b2lkLFxyXG4gICAgICBOb2RlSlMuRXZlbnRFbWl0dGVyXHJcbiAgICBdID0gW1xyXG4gICAgICBkZXZpY2VEZWZpbml0aW9uLFxyXG4gICAgICAodGFnOiBzdHJpbmcsIHBheWxvYWQgPSB7fSkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2VuZFRvQ2xpZW50RXZlbnRTdHJlYW0oXCJDT05UUk9MX01PRFVMRVNcIiBhcyBTb2NrZXROb3RpZmljYXRpb25zQmFja2VuZCwgeyB0YWcsIHBheWxvYWQgfSk7XHJcbiAgICAgICAgdGhpcy5zZW5kU29ja2V0Tm90aWZpY2F0aW9uKFwiQ09OVFJPTF9NT0RVTEVTXCIsIHsgdGFnLCBwYXlsb2FkIH0pO1xyXG4gICAgICB9LFxyXG4gICAgICB0aGlzLmV2ZW50c1xyXG4gICAgXTtcclxuXHJcbiAgICBzd2l0Y2ggKGRldmljZURlZmluaXRpb24ubWF0dGVyLnR5cGUpIHtcclxuICAgICAgY2FzZSBcInN3aXRjaC5vbm9mZlwiOlxyXG4gICAgICAgIGRldmljZSA9IG5ldyBNYXR0ZXJTd2l0Y2hPbk9mZiguLi5kZXZpY2VEYXRhKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQHRzLWlnbm9yZSB8IFR5cGUgaW5zdGFudGlhdGlvbiBpcyBleGNlc3NpdmVseSBkZWVwXHJcbiAgICBhd2FpdCB0aGlzLnNlcnZlckFnZ3JlZ2F0b3IuYWRkKGRldmljZS5lbmRwb2ludCk7XHJcbiAgfVxyXG59XHJcblxyXG4iLCAiaW1wb3J0IHsgRW5kcG9pbnQgfSBmcm9tICdAbWF0dGVyL21haW4nO1xyXG5pbXBvcnQgdHlwZSB7IG1hdHRlckRldmljZURlZmluaXRpb24sIE1NTU1hdHRlckRldmljZVN3aXRjaE9uT2ZmQmVoYXZpb3IsIE5vdGlmaWNhdGlvbkZvckJhY2tlbmRQYXlsb2FkIH0gZnJvbSAnQHR5cGVzZC9tb2R1bGUnO1xyXG5pbXBvcnQgeyBNYXR0ZXJCYXNlRGV2aWNlIH0gZnJvbSAnLi9NYXR0ZXJCYXNlRGV2aWNlJztcclxuaW1wb3J0IHsgT25PZmZQbHVnSW5Vbml0RGV2aWNlIH0gZnJvbSAnQG1hdHRlci9tYWluL2RldmljZXMvb24tb2ZmLXBsdWctaW4tdW5pdCc7XHJcbmltcG9ydCB7IEJyaWRnZWREZXZpY2VCYXNpY0luZm9ybWF0aW9uU2VydmVyIH0gZnJvbSAnQG1hdHRlci9tYWluL2JlaGF2aW9ycy9icmlkZ2VkLWRldmljZS1iYXNpYy1pbmZvcm1hdGlvbic7XHJcblxyXG4vLyBAdHMtaWdub3JlIHwgVHlwZSBpbnN0YW50aWF0aW9uIGlzIGV4Y2Vzc2l2ZWx5IGRlZXBcclxuZXhwb3J0IGNsYXNzIE1hdHRlclN3aXRjaE9uT2ZmIGV4dGVuZHMgTWF0dGVyQmFzZURldmljZTxPbk9mZlBsdWdJblVuaXREZXZpY2U+IHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIGRldmljZTogbWF0dGVyRGV2aWNlRGVmaW5pdGlvbixcclxuICAgIHNlbmRNb2R1bGVDb250cm9sOiAoZXZlbnQ6IHN0cmluZywgcGF5bG9hZD86IGFueSkgPT4gdm9pZCxcclxuICAgIGV2ZW50czogTm9kZUpTLkV2ZW50RW1pdHRlclxyXG4gICkge1xyXG4gICAgc3VwZXIoZGV2aWNlLCBzZW5kTW9kdWxlQ29udHJvbCwgZXZlbnRzKTtcclxuICAgIGNvbnN0IHsgbm9kZUxhYmVsLCBwcm9kdWN0TmFtZSwgcHJvZHVjdExhYmVsLCBzZXJpYWxOdW1iZXIgfSA9IGRldmljZS5tYXR0ZXI7XHJcblxyXG4gICAgdGhpcy5lbmRwb2ludCA9IG5ldyBFbmRwb2ludChcclxuICAgICAgLy8gQHRzLWlnbm9yZSB8IFR5cGUgaW5zdGFudGlhdGlvbiBpcyBleGNlc3NpdmVseSBkZWVwXHJcbiAgICAgIE9uT2ZmUGx1Z0luVW5pdERldmljZS53aXRoKEJyaWRnZWREZXZpY2VCYXNpY0luZm9ybWF0aW9uU2VydmVyKSxcclxuICAgICAge1xyXG4gICAgICAgIGlkOiBkZXZpY2UuaWQsXHJcbiAgICAgICAgYnJpZGdlZERldmljZUJhc2ljSW5mb3JtYXRpb246IHtcclxuICAgICAgICAgIG5vZGVMYWJlbCxcclxuICAgICAgICAgIHByb2R1Y3ROYW1lLFxyXG4gICAgICAgICAgcHJvZHVjdExhYmVsLFxyXG4gICAgICAgICAgc2VyaWFsTnVtYmVyLFxyXG4gICAgICAgICAgcmVhY2hhYmxlOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuICAgICk7XHJcblxyXG4gICAgY29uc3Qge1xyXG4gICAgICBzZXRPbldpdGhOb3RpZmljYXRpb24sXHJcbiAgICAgIHNldE9mZldpdGhOb3RpZmljYXRpb24sXHJcbiAgICAgIHRvZ2dsZVdpdGhOb3RpZmljYXRpb24sXHJcbiAgICAgIHNldFdpdGhOb3RpZmljYXRpb25QYXlsb2FkLFxyXG4gICAgICBvbk9uU2VuZCxcclxuICAgICAgb25PZmZTZW5kLFxyXG4gICAgICBvblRvZ2dsZVNlbmQsXHJcbiAgICB9ID0gZGV2aWNlLmJlaGF2aW9yIGFzIE1NTU1hdHRlckRldmljZVN3aXRjaE9uT2ZmQmVoYXZpb3I7XHJcblxyXG4gICAgdGhpcy5lbmRwb2ludC5ldmVudHMub25PZmYub25PZmYkQ2hhbmdlZC5vbigodmFsdWU6IGJvb2xlYW4pID0+IHtcclxuICAgICAgaWYgKG9uVG9nZ2xlU2VuZCkgc2VuZE1vZHVsZUNvbnRyb2wob25Ub2dnbGVTZW5kLCB2YWx1ZSk7XHJcbiAgICAgIGlmICh2YWx1ZSAmJiBvbk9uU2VuZCkgc2VuZE1vZHVsZUNvbnRyb2wob25PblNlbmQpO1xyXG4gICAgICBpZiAoIXZhbHVlICYmIG9uT2ZmU2VuZCkgc2VuZE1vZHVsZUNvbnRyb2wob25PZmZTZW5kKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChzZXRPbldpdGhOb3RpZmljYXRpb24pIHtcclxuICAgICAgZXZlbnRzLm9uKGBfXyR7c2V0T25XaXRoTm90aWZpY2F0aW9ufWAsICgpID0+IHtcclxuICAgICAgICB0aGlzLmVuZHBvaW50LmFjdChhc3luYyAoYWdlbnQpID0+IHtcclxuICAgICAgICAgIGF3YWl0IGFnZW50Lm9uT2ZmLm9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWYgKHNldE9mZldpdGhOb3RpZmljYXRpb24pIHtcclxuICAgICAgZXZlbnRzLm9uKGBfXyR7c2V0T2ZmV2l0aE5vdGlmaWNhdGlvbn1gLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5lbmRwb2ludC5hY3QoYXN5bmMgKGFnZW50KSA9PiB7XHJcbiAgICAgICAgICBhd2FpdCBhZ2VudC5vbk9mZi5vZmYoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAodG9nZ2xlV2l0aE5vdGlmaWNhdGlvbikge1xyXG4gICAgICBldmVudHMub24oYF9fJHt0b2dnbGVXaXRoTm90aWZpY2F0aW9ufWAsICgpID0+IHtcclxuICAgICAgICB0aGlzLmVuZHBvaW50LmFjdChhc3luYyAoYWdlbnQpID0+IHtcclxuICAgICAgICAgIGF3YWl0IGFnZW50Lm9uT2ZmLnRvZ2dsZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChzZXRXaXRoTm90aWZpY2F0aW9uUGF5bG9hZCkge1xyXG4gICAgICBldmVudHMub24oYF9fJHtzZXRXaXRoTm90aWZpY2F0aW9uUGF5bG9hZH1gLCAodmFsdWU6IE5vdGlmaWNhdGlvbkZvckJhY2tlbmRQYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgdGhpcy5lbmRwb2ludC5hY3QoYXN5bmMgKGFnZW50KSA9PiB7XHJcbiAgICAgICAgICBpZiAodmFsdWUucGF5bG9hZCkgYXdhaXQgYWdlbnQub25PZmYub24oKVxyXG4gICAgICAgICAgZWxzZSBhd2FpdCBhZ2VudC5vbk9mZi5vZmYoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59IiwgImltcG9ydCB0eXBlIHsgRW5kcG9pbnQsIEVuZHBvaW50VHlwZSB9IGZyb20gJ0BtYXR0ZXIvbWFpbic7XHJcbmltcG9ydCB0eXBlIHsgbWF0dGVyRGV2aWNlRGVmaW5pdGlvbiB9IGZyb20gJ0B0eXBlc2QvbW9kdWxlJztcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBNYXR0ZXJCYXNlRGV2aWNlPFQgZXh0ZW5kcyBFbmRwb2ludFR5cGU+IHtcclxuICBwcm90ZWN0ZWQgZW5kcG9pbnQ6IEVuZHBvaW50PFQ+O1xyXG5cclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHB1YmxpYyByZWFkb25seSBkZXZpY2U6IG1hdHRlckRldmljZURlZmluaXRpb24sXHJcbiAgICBwdWJsaWMgcmVhZG9ubHkgc2VuZE1vZHVsZUNvbnRyb2w6IChldmVudDogc3RyaW5nLCBwYXlsb2FkPzogYW55KSA9PiB2b2lkLFxyXG4gICAgcHVibGljIHJlYWRvbmx5IGV2ZW50czogTm9kZUpTLkV2ZW50RW1pdHRlclxyXG4gICkge31cclxuXHJcbiAgYXN5bmMgZGVzdHJveUVuZHBvaW50KCkge1xyXG4gICAgYXdhaXQgdGhpcy5lbmRwb2ludC5jbG9zZSgpO1xyXG4gIH1cclxufVxyXG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7MmNBRUEsSUFBQUEsRUFBNEIsMEJBQzVCQyxFQUFxQixxQkFDckJDLEVBQXlC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SSxNQUFNLFNBQVMsS0FBSyxVQUFVLENBQUUsSUFBQU8sRUFBSyxRQUFBSixDQUFRLENBQUMsQ0FBQztBQUFBO0FBQUEsQ0FBTSxDQUFDLENBQzlELENBQ0YsQ0FBQyIsCiAgIm5hbWVzIjogWyJOb2RlSGVscGVyIiwgIkxvZyIsICJleHByZXNzIiwgInBhdGgiLCAiaW1wb3J0X2V2ZW50cyIsICJDT0xPUlMiLCAiTG9nIiwgImltcG9ydF9tYWluIiwgImltcG9ydF9wcm90b2NvbCIsICJpbXBvcnRfYWdncmVnYXRvciIsICJpbXBvcnRfdHlwZXMiLCAiaW1wb3J0X21haW4iLCAiTWF0dGVyQmFzZURldmljZSIsICJkZXZpY2UiLCAic2VuZE1vZHVsZUNvbnRyb2wiLCAiZXZlbnRzIiwgImltcG9ydF9vbl9vZmZfcGx1Z19pbl91bml0IiwgImltcG9ydF9icmlkZ2VkX2RldmljZV9iYXNpY19pbmZvcm1hdGlvbiIsICJNYXR0ZXJTd2l0Y2hPbk9mZiIsICJNYXR0ZXJCYXNlRGV2aWNlIiwgImRldmljZSIsICJzZW5kTW9kdWxlQ29udHJvbCIsICJldmVudHMiLCAibm9kZUxhYmVsIiwgInByb2R1Y3ROYW1lIiwgInByb2R1Y3RMYWJlbCIsICJzZXJpYWxOdW1iZXIiLCAic2V0T25XaXRoTm90aWZpY2F0aW9uIiwgInNldE9mZldpdGhOb3RpZmljYXRpb24iLCAidG9nZ2xlV2l0aE5vdGlmaWNhdGlvbiIsICJzZXRXaXRoTm90aWZpY2F0aW9uUGF5bG9hZCIsICJvbk9uU2VuZCIsICJvbk9mZlNlbmQiLCAib25Ub2dnbGVTZW5kIiwgInZhbHVlIiwgImFnZW50IiwgIk1PRFVMRV9UQUciLCAiQ09MT1JTIiwgIk1hdHRlclNlcnZlciIsICJzZW5kVG9DbGllbnRFdmVudFN0cmVhbSIsICJzZW5kU29ja2V0Tm90aWZpY2F0aW9uIiwgImV2ZW50cyIsICJtb2R1bGVTdG9yYWdlU2VydmljZSIsICJtYXR0ZXJTdG9yZVBhdGgiLCAibWF0dGVyTG9nTGV2ZWwiLCAibWF0dGVyTG9nRm9ybWF0IiwgIm1vZHVsZVZlcnNpb25TdHJpbmciLCAibWRuc0ludGVyZmFjZSIsICJwcm9kdWN0TmFtZSIsICJkZXZpY2VOYW1lIiwgInZlbmRvck5hbWUiLCAiZGV2aWNlU3RvcmFnZSIsICJwYXNzY29kZSIsICJkaXNjcmltaW5hdG9yIiwgInZlbmRvcklkIiwgInByb2R1Y3RJZCIsICJ1bmlxdWVJZCIsICJmYWJyaWNJbmRleCIsICJmYWJyaWNBY3Rpb24iLCAiYWN0aW9uIiwgInFyUGFpcmluZ0NvZGUiLCAibWFudWFsUGFpcmluZ0NvZGUiLCAiZGV2aWNlRGVmaW5pdGlvbiIsICJkZXZpY2UiLCAiZGV2aWNlRGF0YSIsICJ0YWciLCAicGF5bG9hZCIsICJNYXR0ZXJTd2l0Y2hPbk9mZiIsICJzdG9yYWdlIiwgIlBBVEhfTU9EVUxFX1NUT1JFIiwgIlBBVEhfTUFUVEVSX1NUT1JFIiwgIlBBVEhfQ0xJRU5UX0RJU1QiLCAiTU9EVUxFX1ZFUlNJT04iLCAiTU9EVUxFX1RBRyIsICJDT0xPUlMiLCAicm91dGVyIiwgImFwaVJvdXRlciIsICJxIiwgInIiLCAicmVxIiwgInJlcyIsICJjbGllbnRJZCIsICJub3RpZmljYXRpb24iLCAicGF5bG9hZCIsICJNYXR0ZXJTZXJ2ZXIiLCAieCIsICJ5IiwgInRhZyJdCn0K
